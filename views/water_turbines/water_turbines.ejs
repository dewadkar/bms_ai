<!DOCTYPE html>
<html>

<head>
    <title>BMS - Water Pump Station</title>
    <% include ../partial/head.ejs %>
    <style>
        .chartjs-wrapper {
            margin: 0 auto;
            width: 15vw;
            height: auto;
            padding: 5px;
        }

        .chart-donut {
            position: relative;

        }

        svg:not(:root) {
            height: 100% !important;
        }

        .users-list>li {
            width: 10%;
            float: left;
            padding: 8px;
            text-align: center;
        }

        .guege_chart {
            margin: auto;
            width: 18vw;
            height: auto;
            padding: 5px;
        }
    </style>

    <script src="/scripts/chartjs-plugin-datalabels/dist/chartjs-plugin-datalabels.js"></script>
    <script src="/js/water_turbines/water_turbines.js"></script>
</head>

<body ng-app="waterTurbines" class="hold-transition skin-purple fixed sidebar-mini" ng-cloak>

    <div class="wrapper">
        <% include ../partial/headbar.ejs %>
        <% include ../partial/sidebar.ejs %>
        <div class="content-wrapper" ng-controller="waterTurbinesController">
            <section class="content-header">
                <h1>
                    Water Pump Station<button style="margin-left:20px" class="btn btn-primary"
                        ng-click="simulate()">Simulate</button>
                </h1>
                <ol class="breadcrumb">
                    <li><a href="/waterTurbines"><i class="fa fa-home"></i>Water Pump Station</a></li>
                </ol>
            </section>
            <section class="content">
                <div class="row">
                    <div class="col-md-9">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="box box-primary">
                                    <div class="box-body">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="box ">
                                                    <div class="box-header text-center"
                                                        style="background-color: rgb(215, 215, 250)">
                                                        <h3 class="box-title">Trap Status</h3>
                                                    </div>
                                                    <div class="box-body">
                                                        <div class="guege_chart">
                                                            <canvas class="trap-status-gauge"></canvas>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="box">
                                                    <div class="box-header text-center"
                                                        style="background-color: rgb(245, 216, 122)">
                                                        <h3 class="box-title">Lost Energy Cost</h3>
                                                    </div>
                                                    <div class="box-body">
                                                        <div class="guege_chart">
                                                            <canvas class="lost-energy-gauge"></canvas>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="box">
                                                    <div class="box-header text-center"
                                                        style="background-color: rgb(151, 252, 151)">
                                                        <h3 class="box-title">Emissions Lost </h3>
                                                    </div>
                                                    <div class="box-body">
                                                        <div class="guege_chart">
                                                            <canvas class="emissions-gauge"></canvas>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="box box-primary">
                                    <div class="box-header with-border" data-widget="collapse">
                                        <h3 class="box-title">Operating Water Pumps</h3>
                                    </div>
                                    <div class="box-body">
                                        <ul class="users-list ">
                                            <li ng-repeat="pumps in water_pump_data">
                                                <div
                                                    style="height:45px; width:100%; margin: auto; padding: auto; background-color: #5a88c5;">

                                                    <a href="/waterTurbines/details/{{pumps.id}}" class="text-center"
                                                        style="font-size: 15px; font-weight: bold; padding: auto; color: white">
                                                        {{pumps.id}} <br><i style="font-size: 17px;" class="fa fa-cogs"
                                                            ng-style="{'color':pumps.color}"></i>
                                                    </a>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="box box-primary">

                                    <div class="box-body">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <canvas class="stacked_bar_chart"></canvas>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <style>
                        .normal_water_level {
                            background-color: rgb(59, 97, 62);
                        }

                        .below_water_level {
                            background-color: rgb(202, 17, 41);
                        }

                        .overflow_water_level {
                            background-color: rgb(202, 17, 41);
                        }

                        .semi_overflow_water_level {
                            background-color: rgb(243, 116, 94);
                        }

                        .level_water {
                            background-color: rgb(212, 147, 49);
                        }
                    </style>

                    <div class="col-md-3">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="box box-primary" ng-cloak>
                                    <div class="box-header with-border">
                                        <h4 class="box-title" style="font-weight: bold">WATER LEVEL </h4>
                                    </div>
                                    <div class="box-body">
                                        <div class="row">
                                            <div class="col-md-12 col-sm-6 col-xs-12">
                                                <div>
                                                    <img class="normal_water_level " src="/images/water-level-up.png"
                                                        height="50" width="40" ng-show="show_water_level_up"
                                                        id="water_level_up">
                                                    <img src="/images/water-level-down.png" height="50" width="40"
                                                        ng-show="show_water_level_down" class="below_water_level"
                                                        id="water_level_down">
                                                    <img src="/images/water-overflow.png" height="50" width="40"
                                                        ng-show="show_water_level_overflow" class="overflow_water_level"
                                                        id="water_level_overflow">
                                                    <span style="font-size: 30px; margin-left: 30px; 
                                                        font-weight: bold; color: darkgoldenrod; ">{{water_level}}
                                                        %</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="box box-primary" ng-cloak>
                                    <div class="box-header with-border">
                                        <h4 class="box-title" style="font-weight: bold">WATER VOLUME </h4>
                                    </div>
                                    <div class="box-body">
                                        <div>
                                            <img src="/images/water_volume.png" height="50" width="40"
                                                ng-show="show_water_volume" id="water_volume" alt="water volume"
                                                tooltip="water volume">
                                            <span
                                                style="font-size: 30px; margin-left: 30px; font-weight: bold; color: darkgoldenrod; ">{{water_volume}}
                                                Ltr</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="box box-primary" ng-cloak>
                                    <div class="box-header with-border">
                                        <h4 class="box-title" style="font-weight: bold">ALERTS </h4>
                                    </div>
                                    <div class="box-body">
                                        <div class="row">
                                            <div class="navbar-custom-menu">
                                                <ul class="nav navbar-nav">
                                                    <ul class="menu">
                                                        <li>
                                                            <a href="#">
                                                                <i class=""></i>
                                                                Alert 1
                                                            </a>
                                                        </li>
                                                        <li>
                                                            <a href="#">
                                                                <i class=" "></i>
                                                                Alert 2
                                                            </a>
                                                        </li>
                                                        <li>
                                                            <a href="#">
                                                                <i class=""></i>Alert 3
                                                            </a>
                                                        </li>

                                                    </ul>

                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </div>
        <%- include ../partial/footer.ejs %>
    </div>
</body>

</html>